#‡∏£‡∏≠‡∏õ‡∏£‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤
<!DOCTYPE html>
<html lang="th">
<head>
<body>
  <h1>‡πÄ‡∏Å‡∏°‡∏à‡∏±‡∏ö‡∏Ñ‡∏π‡πà‡∏û‡∏¢‡∏±‡∏ç‡∏ä‡∏ô‡∏∞‡πÑ‡∏ó‡∏¢</h1>
  <div id="score">
  ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏™‡∏∞‡∏™‡∏°: <span id="totalScore">0</span> | ‚è± ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡πÄ‡∏ß‡∏•‡∏≤: <span id="timeLeft">60</span> ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
</div>
<button id="startBtn" onclick="startGame()">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°</button>
<button id="restartBtn" onclick="restartGame()" style="display:none;">‡πÄ‡∏•‡πà‡∏ô‡∏ï‡πà‡∏≠</button>



  <div id="game"></div>
  <!-- Popup, ‡πÄ‡∏™‡∏µ‡∏¢‡∏á ‡πÅ‡∏•‡∏∞ Script ‡πÄ‡∏î‡∏¥‡∏°‡∏ï‡∏≤‡∏°‡∏´‡∏•‡∏±‡∏á‡πÑ‡∏î‡πâ -->
</body>

<style>
  html, body {
    margin: 0;
    padding: 0;
    height: 100%;
    font-family: 'TH Sarabun New', sans-serif;
    background: #e0f7fa;
    text-align: center;
    box-sizing: border-box;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  body > *:not(#game) {
    z-index: 2;
  }

  #game {
    display: grid;
    justify-content: center;
    align-content: center;
    margin: auto;
    padding: 1vh;
    gap: 10px;
    max-height: 70vh;
    max-width: 95vw;
  }

.card {
  background: #ffffff;
  border-radius: 12px;
  aspect-ratio: 1 / 1;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: clamp(16px, 4vw, 36px);
  box-shadow: 0 2px 6px rgba(0,0,0,0.15);
  transition: transform 0.2s, background-color 0.2s;
  cursor: pointer;
}

.card:hover {
  background-color: #c8e6c9;
  transform: scale(1.05);
}

.card.selected {
  background-color: #ffccbc !important;
  transform: scale(1.05);
  pointer-events: none;
  opacity: 0.6;
  transition: background-color 0.4s, opacity 0.4s;
}

.card img {
  width: 80%;
  height: 80%;
  object-fit: contain;
  pointer-events: none;
}

</style>






</head>
<body>
    <div id="popup" style="display:none;">
        <div id="popupBox">
            <div id="popupText">üéâ ‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ 120 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô!</div>
            <button onclick="closePopup()">‡∏ï‡∏Å‡∏•‡∏á</button>
        </div>
    </div>

    <div id="game"></div>

    <audio id="hoverSound" src="https://raw.githubusercontent.com/Phairater/thai-sounds/main/hover.mp3"></audio>
    <audio id="clickSound" src="https://raw.githubusercontent.com/Phairater/thai-sounds/main/click.mp3"></audio>
    <audio id="wrongSound" src="https://raw.githubusercontent.com/Phairater/thai-sounds/main/wrong.mp3"></audio>
    <audio id="gameoverSound" src="https://raw.githubusercontent.com/Phairater/thai-sounds/main/game-over.mp3"></audio>
    <audio id="winSound" src="https://raw.githubusercontent.com/Phairater/thai-sounds/main/winning.mp3"></audio>
    <audio id="coinSound" src="https://raw.githubusercontent.com/Phairater/thai-sounds/main/coin.mp3"></audio>

    <script>


      window.addEventListener("resize", calculateCardSize);

        let countdownInterval;
        let timeLeft;
        let startTime;

        let selected = [];
        let remainingChars = [];
        let score = 0;
        let totalScore = 0;
        let allMatched = 0; // ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏ö‡∏Ñ‡∏π‡πà‡∏ó‡∏µ‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à

        const hoverSound = document.getElementById("hoverSound");
        const clickSound = document.getElementById("clickSound");
        const wrongSound = document.getElementById("wrongSound");
        const gameoverSound = document.getElementById("gameoverSound");
        const winSound = document.getElementById("winSound");
        const coinSound = document.getElementById("coinSound");

const chars = [
  { id: "‡∏Å", img: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏Å.png", sound: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏Å.mp3" },
  { id: "‡∏Ç", img: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏Ç.png", sound: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏Ç.mp3" },
  { id: "‡∏É", img: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏É.png", sound: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏É.mp3" },
  { id: "‡∏Ñ", img: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏Ñ.png", sound: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏Ñ.mp3" },
  { id: "‡∏Ö", img: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏Ö.png", sound: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏Ö.mp3" },
  { id: "‡∏Ü", img: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏Ü.png", sound: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏Ü.mp3" },
  { id: "‡∏á", img: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏á.png", sound: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏á.mp3" },
  { id: "‡∏à", img: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏à.png", sound: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏à.mp3" },
  { id: "‡∏â", img: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏â.png", sound: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏â.mp3" },
  { id: "‡∏ä", img: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏ä.png", sound: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏ä.mp3" },
  { id: "‡∏ã", img: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏ã.png", sound: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏ã.mp3" },
  { id: "‡∏å", img: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏å.png", sound: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏å.mp3" },
  { id: "‡∏ç", img: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏ç.png", sound: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏ç.mp3" },
  { id: "‡∏é", img: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏é.png", sound: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏é.mp3" },
  { id: "‡∏è", img: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏è.png", sound: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏è.mp3" },
  { id: "‡∏ê", img: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏ê.png", sound: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏ê.mp3" },
  { id: "‡∏ë", img: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏ë.png", sound: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏ë.mp3" },
  { id: "‡∏í", img: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏í.png", sound: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏í.mp3" },
  { id: "‡∏ì", img: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏ì.png", sound: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏ì.mp3" },
  { id: "‡∏î", img: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏î.png", sound: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏î.mp3" },
  { id: "‡∏ï", img: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏ï.png", sound: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏ï.mp3" },
  { id: "‡∏ñ", img: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏ñ.png", sound: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏ñ.mp3" },
  { id: "‡∏ó", img: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏ó.png", sound: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏ó.mp3" },
  { id: "‡∏ò", img: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏ò.png", sound: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏ò.mp3" },
  { id: "‡∏ô", img: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏ô.png", sound: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏ô.mp3" },
  { id: "‡∏ö", img: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏ö.png", sound: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏ö.mp3" },
  { id: "‡∏õ", img: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏õ.png", sound: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏õ.mp3" },
  { id: "‡∏ú", img: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏ú.png", sound: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏ú.mp3" },
  { id: "‡∏ù", img: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏ù.png", sound: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏ù.mp3" },
  { id: "‡∏û", img: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏û.png", sound: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏û.mp3" },
  { id: "‡∏ü", img: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏ü.png", sound: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏ü.mp3" },
  { id: "‡∏†", img: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏†.png", sound: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏†.mp3" },
  { id: "‡∏°", img: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏°.png", sound: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏°.mp3" },
  { id: "‡∏¢", img: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏¢.png", sound: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏¢.mp3" },
  { id: "‡∏£", img: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏£.png", sound: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏£.mp3" },
  { id: "‡∏•", img: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏•.png", sound: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏•.mp3" },
  { id: "‡∏ß", img: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏ß.png", sound: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏ß.mp3" },
  { id: "‡∏®", img: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏®.png", sound: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏®.mp3" },
  { id: "‡∏©", img: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏©.png", sound: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏©.mp3" },
  { id: "‡∏™", img: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏™.png", sound: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏™.mp3" },
  { id: "‡∏´", img: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏´.png", sound: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏´.mp3" },
  { id: "‡∏¨", img: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏¨.png", sound: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏¨.mp3" },
  { id: "‡∏≠", img: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏≠.png", sound: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏≠.mp3" },
  { id: "‡∏Æ", img: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏Æ.png", sound: "https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏Æ.mp3" }
];


        function playAudio(audio) {
            audio.pause();
            audio.currentTime = 0;
            audio.play().catch(() => {});
        }

        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }
        function startGame() {
  document.getElementById("startBtn").style.display = "none";
  document.getElementById("restartBtn").style.display = "inline-block";
  totalScore = 0;
  document.getElementById("totalScore").textContent = 0;
  document.getElementById("timeLeft").textContent = 60;
  remainingChars = shuffle([...chars]);
  startRound();
}


          function startRound() {
              startTime = Date.now();
              timeLeft = 60;
              document.getElementById("timeLeft").textContent = timeLeft;
              clearInterval(countdownInterval);
              countdownInterval = setInterval(() => {
                  timeLeft--;
                  document.getElementById("timeLeft").textContent = timeLeft;
                  if (timeLeft <= 0) {
                      clearInterval(countdownInterval);
                      playAudio(gameoverSound);
                      showPopup("‚è± ‡∏´‡∏°‡∏î‡πÄ‡∏ß‡∏•‡∏≤! ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏î ' ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà ' ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á", false);
                  }
              }, 1000);

              const game = document.getElementById("game");
              game.innerHTML = "";
              selected = [];
              score = 0;

              // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏≥‡πÄ‡∏ô‡∏≤‡∏ä‡∏∏‡∏î‡∏û‡∏¢‡∏±‡∏ç‡∏ä‡∏ô‡∏∞‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‡πÅ‡∏•‡∏∞‡∏™‡∏∏‡πà‡∏°‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ã‡πâ‡∏≥
              const pool = shuffle([...chars]);
              const thisRoundChars = pool.slice(0, 12); // ‡∏´‡∏¢‡∏¥‡∏ö 12 ‡∏ï‡∏±‡∏ß‡πÅ‡∏£‡∏Å‡πÑ‡∏°‡πà‡∏ã‡πâ‡∏≥‡∏Å‡∏±‡∏ô‡πÅ‡∏ô‡πà‡∏ô‡∏≠‡∏ô

              let cards = [];
              thisRoundChars.forEach(char => {
                  cards.push({ type: 'char', id: char.id, sound: char.sound });
                  cards.push({ type: 'img', id: char.id, img: char.img, sound: char.sound });
              });

              shuffle(cards);

cards.forEach((card, index) => {
  const div = document.createElement("div");
  div.classList.add("card");
  div.dataset.index = index;
  div.dataset.id = card.id;
  div.dataset.type = card.type;

  if (card.type === 'char') {
    div.textContent = card.id;
  } else {
    const img = document.createElement("img");
    img.src = card.img;
    div.appendChild(img);
  }

  div.onclick = () => selectCard(div, card);
  div.onmouseenter = () => playAudio(hoverSound);
  game.appendChild(div);
});

// ‚úÖ ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ç‡∏ô‡∏≤‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏£‡∏ö
calculateCardSize();


              calculateCardSize();
          }

        function restartGame() {
            closePopup();
            clearInterval(countdownInterval);
            totalScore = 0;
            document.getElementById("totalScore").textContent = totalScore;
            remainingChars = shuffle([...chars]);
            document.getElementById("game").innerHTML = "";
            startRound();
        }

        function selectCard(div, card) {
            if (selected.length >= 2 || div.classList.contains("selected")) return;
            div.classList.add("selected");
            playAudio(clickSound);
            selected.push({ div, id: card.id, sound: card.sound });

            if (selected.length === 2) {
                const [first, second] = selected;
                if (first.id === second.id) {
                    new Audio(first.sound).play().catch(() => {});
                    playAudio(coinSound);
                    showEffect(first.div);
                    showEffect(second.div);
                    totalScore += 10;
                    score += 10;
                    document.getElementById("totalScore").textContent = totalScore;

                    setTimeout(() => {
                        first.div.style.display = "none"; // ‡∏ã‡πà‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏ó‡∏µ‡πà‡∏à‡∏±‡∏ö‡∏Ñ‡∏π‡πà‡∏ñ‡∏π‡∏Å
                        second.div.style.display = "none"; // ‡∏ã‡πà‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏ó‡∏µ‡πà‡∏à‡∏±‡∏ö‡∏Ñ‡∏π‡πà‡∏ñ‡∏π‡∏Å
                        selected = [];

                        // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÄ‡∏Å‡∏°‡∏à‡∏ö‡∏Ñ‡∏£‡∏ö‡∏ó‡∏∏‡∏Å‡∏ï‡∏±‡∏ß‡πÅ‡∏•‡πâ‡∏ß
                        if ([...document.querySelectorAll(".card")].every(c => c.style.display === "none")) {
                            setTimeout(() => {
                                if (remainingChars.length > 0) {
                                    startRound(); // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏£‡∏≠‡∏ö‡πÉ‡∏´‡∏°‡πà
                                } else {
                                    showPopup(`üéä ‡πÄ‡∏Å‡∏°‡∏à‡∏ö‡πÅ‡∏•‡πâ‡∏ß! ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏∞‡∏™‡∏°‡πÑ‡∏î‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ${totalScore} ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô!`, true);
                                }
                            }, 500);
                        }
                    }, 600);
                } else {
                    playAudio(wrongSound);
                    totalScore = Math.max(0, totalScore - 5);
                    document.getElementById("totalScore").textContent = totalScore;
                    setTimeout(() => {
                        first.div.classList.remove("selected");
                        second.div.classList.remove("selected");
                        selected = [];
                    }, 800);
                }
            }
        }

        function showEffect(div) {
            const effect = document.createElement("div");
            effect.className = "effect";
            div.appendChild(effect);
            setTimeout(() => div.removeChild(effect), 800);
        }

        function showPopup(msg, withConfetti = false) {
            document.getElementById("popupText").innerHTML = msg;
            document.getElementById("popup").style.display = "flex";
            if (withConfetti) launchConfetti();
        }

        function closePopup() {
            document.getElementById("popup").style.display = "none";
        }

        function launchConfetti() {
            const canvas = document.getElementById('confetti');
            const ctx = canvas.getContext('2d');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            let particles = [];
            for (let i = 0; i < 150; i++) {
                particles.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height - canvas.height,
                    r: Math.random() * 6 + 4,
                    c: `hsl(${Math.random()*360}, 100%, 60%)`,
                    v: Math.random() * 4 + 2
                });
            }
            let animation = setInterval(() => {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                particles.forEach(p => {
                    p.y += p.v;
                    ctx.beginPath();
                    ctx.arc(p.x, p.y, p.r, 0, Math.PI * 2);
                    ctx.fillStyle = p.c;
                    ctx.fill();
                });
                if (particles.every(p => p.y > canvas.height)) clearInterval(animation);
            }, 30);
        }

window.onload = () => {
  
function calculateCardSize() {
  const game = document.getElementById("game");
  const padding = 10;
  const cardCount = game.children.length;
  const containerWidth = window.innerWidth * 0.95;
  const containerHeight = window.innerHeight * 0.7;

  let bestCols = 1;
  let bestSize = 0;

  for (let cols = 1; cols <= cardCount; cols++) {
    const rows = Math.ceil(cardCount / cols);
    const cardWidth = Math.floor((containerWidth - padding * (cols - 1)) / cols);
    const cardHeight = Math.floor((containerHeight - padding * (rows - 1)) / rows);
    const size = Math.min(cardWidth, cardHeight);

    const totalWidth = size * cols + padding * (cols - 1);
    const totalHeight = size * rows + padding * (rows - 1);

    if (totalWidth <= containerWidth && totalHeight <= containerHeight && size > bestSize) {
      bestSize = size;
      bestCols = cols;
    }
  }

  game.style.gridTemplateColumns = `repeat(${bestCols}, ${bestSize}px)`;
  game.style.gridGap = `${padding}px`;

  const cards = game.querySelectorAll('.card');
  cards.forEach(card => {
    card.style.width = `${bestSize}px`;
    card.style.height = `${bestSize}px`;
    card.style.fontSize = `${bestSize * 0.4}px`;
  });
}

window.addEventListener("resize", calculateCardSize);



         calculateCardSize(); // ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏° layout
};

function calculateCardSize() {
  const game = document.getElementById("game");
  const padding = 10;
  const cardCount = game.children.length;
  const containerWidth = window.innerWidth * 0.95;
  const containerHeight = window.innerHeight * 0.7;

  let bestCols = 1;
  let bestSize = 0;

  for (let cols = 1; cols <= cardCount; cols++) {
    const rows = Math.ceil(cardCount / cols);
    const cardWidth = Math.floor((containerWidth - padding * (cols - 1)) / cols);
    const cardHeight = Math.floor((containerHeight - padding * (rows - 1)) / rows);
    const size = Math.min(cardWidth, cardHeight);

    const totalWidth = size * cols + padding * (cols - 1);
    const totalHeight = size * rows + padding * (rows - 1);

    if (totalWidth <= containerWidth && totalHeight <= containerHeight && size > bestSize) {
      bestSize = size;
      bestCols = cols;
    }
  }

  game.style.gridTemplateColumns = `repeat(${bestCols}, ${bestSize}px)`;
  game.style.gridGap = `${padding}px`;

  const cards = game.querySelectorAll('.card');
  cards.forEach(card => {
    card.style.width = `${bestSize}px`;
    card.style.height = `${bestSize}px`;
    card.style.fontSize = `${bestSize * 0.4}px`;
  });
}
window.addEventListener("resize", calculateCardSize);


function calculateOptimalGrid(cardCount = 24) {
  const game = document.getElementById("game");
  const padding = 10;

  const containerWidth = game.clientWidth;
  const containerHeight = game.clientHeight;

  let bestCols = 1;
  let bestRows = cardCount;
  let bestSize = 0;

  for (let cols = 1; cols <= cardCount; cols++) {
    const rows = Math.ceil(cardCount / cols);
    const cardWidth = Math.floor((containerWidth - padding * (cols + 1)) / cols);
    const cardHeight = Math.floor((containerHeight - padding * (rows + 1)) / rows);
    const size = Math.min(cardWidth, cardHeight);

    if (size > bestSize) {
      bestSize = size;
      bestCols = cols;
      bestRows = rows;
    }
  }

  return { cols: bestCols, rows: bestRows, size: bestSize };
}
function startGame() {
  document.getElementById("startBtn").style.display = "none";
  document.getElementById("restartBtn").style.display = "inline-block";
  remainingChars = shuffle([...chars]);
  startRound();
  
}
function restartGame() {
  closePopup();
  clearInterval(countdownInterval);
  document.getElementById("game").innerHTML = "";
  startRound();
}


    </script>

</body>
</html>




