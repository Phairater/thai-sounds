<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>‡πÄ‡∏Å‡∏°‡∏à‡∏±‡∏ö‡∏Ñ‡∏π‡πà‡∏û‡∏¢‡∏±‡∏ç‡∏ä‡∏ô‡∏∞‡πÑ‡∏ó‡∏¢</title> <style>
        /* CSS styles will go here */


    html, body {
        margin: 0;
        padding: 0;
        height: 100%;
        font-family: 'TH Sarabun New', sans-serif;
        background: #e0f7fa;
        text-align: center;
        box-sizing: border-box;
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    body > *:not(#game) {
        z-index: 2;
    }

    #game {
        display: grid;
        justify-content: center;
        align-content: center;
        margin: auto;
        padding: 1vh;
        gap: 10px;
        max-height: 70vh;
        max-width: 95vw;
    }

    .card {
        background: #ffffff;
        border-radius: 12px;
        aspect-ratio: 1 / 1;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: clamp(16px, 4vw, 36px);
        box-shadow: 0 2px 6px rgba(0,0,0,0.15);
        transition: transform 0.2s, background-color 0.2s;
        cursor: pointer;
    }

    .card:hover {
        background-color: #c8e6c9;
        transform: scale(1.05);
    }

    .card.selected {
        background-color: #ffccbc !important;
        transform: scale(1.05);
        pointer-events: none;
        opacity: 0.6;
        transition: background-color 0.4s, opacity 0.4s;
    }

    .card img {
        width: 80%;
        height: 80%;
        object-fit: contain;
        pointer-events: none;
    }

    /* Style for Popup */
    #popup {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 1000;
    }

    #popupBox {
        background: #fff;
        padding: 30px;
        border-radius: 15px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        text-align: center;
        font-size: 1.5em;
    }

    #popupBox button {
        margin-top: 20px;
        padding: 10px 20px;
        font-size: 1em;
        cursor: pointer;
        background: #4CAF50;
        color: white;
        border: none;
        border-radius: 5px;
    }

    /* Style for the effect (if you want one) */
    .effect {
        /* Add your desired effect styles here, e.g., an animation */
        /* For example, a simple ripple effect */
        position: absolute;
        width: 100%;
        height: 100%;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.7);
        animation: ripple 0.8s forwards;
        opacity: 0;
    }

    @keyframes ripple {
        from {
            transform: scale(0);
            opacity: 1;
        }
        to {
            transform: scale(1);
            opacity: 0;
        }
    }




    </style>
</head>
<body>
    <h1>‡πÄ‡∏Å‡∏°‡∏à‡∏±‡∏ö‡∏Ñ‡∏π‡πà‡∏û‡∏¢‡∏±‡∏ç‡∏ä‡∏ô‡∏∞‡πÑ‡∏ó‡∏¢</h1>
    <div id="score">
        ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏™‡∏∞‡∏™‡∏°: <span id="totalScore">0</span> | ‚è± ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡πÄ‡∏ß‡∏•‡∏≤: <span id="timeLeft">60</span> ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
    </div>
    <button id="startBtn" onclick="startGame()">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°</button>
    <button id="restartBtn" onclick="restartGame()" style="display:none;">‡πÄ‡∏•‡πà‡∏ô‡∏ï‡πà‡∏≠</button>

    <div id="game"></div>

    <div id="popup" style="display:none;">
        <div id="popupBox">
            <div id="popupText">üéâ ‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ 120 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô!</div>
            <button onclick="closePopup()">‡∏ï‡∏Å‡∏•‡∏á</button>
        </div>
    </div>

    <canvas id="confetti" style="position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;"></canvas>

    <audio id="hoverSound" src="https://raw.githubusercontent.com/Phairater/thai-sounds/main/hover.mp3"></audio>
    <audio id="clickSound" src="https://raw.githubusercontent.com/Phairater/thai-sounds/main/click.mp3"></audio>
    <audio id="wrongSound" src="https://raw.githubusercontent.com/Phairater/thai-sounds/main/wrong.mp3"></audio>
    <audio id="gameoverSound" src="https://raw.githubusercontent.com/Phairater/thai-sounds/main/game-over.mp3"></audio>
    <audio id="winSound" src="https://raw.githubusercontent.com/Phairater/thai-sounds/main/winning.mp3"></audio>
    <audio id="coinSound" src="https://raw.githubusercontent.com/Phairater/thai-sounds/main/coin.mp3"></audio>

    <script>
        /* JavaScript code will go here */

    // 1. Global Variables (‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á)
    let countdownInterval;
    let timeLeft;
    let startTime;
    let selected = [];
    let remainingChars = []; // ‡∏û‡∏¢‡∏±‡∏ç‡∏ä‡∏ô‡∏∞‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏£‡∏≠‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
    let totalScore = 0;

    // 2. Audio Elements (‡∏≠‡∏á‡∏Ñ‡πå‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡πÄ‡∏™‡∏µ‡∏¢‡∏á)
    const hoverSound = document.getElementById("hoverSound");
    const clickSound = document.getElementById("clickSound");
    const wrongSound = document.getElementById("wrongSound");
    const gameoverSound = document.getElementById("gameoverSound");
    const winSound = document.getElementById("winSound");
    const coinSound = document.getElementById("coinSound");

    // 3. Game Data (‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Å‡∏° - ‡∏û‡∏¢‡∏±‡∏ç‡∏ä‡∏ô‡∏∞)
    const baseUrl = "https://raw.githubusercontent.com/Phairater/thai-sounds/main/";

// ‡πÄ‡∏Å‡πá‡∏ö‡πÅ‡∏Ñ‡πà id ‡∏Ç‡∏≠‡∏á‡∏û‡∏¢‡∏±‡∏ç‡∏ä‡∏ô‡∏∞
const charIds = [
    "‡∏Å", "‡∏Ç", "‡∏É", "‡∏Ñ", "‡∏Ö", "‡∏Ü", "‡∏á", "‡∏à", "‡∏â", "‡∏ä", "‡∏ã", "‡∏å", "‡∏ç", "‡∏é", "‡∏è", "‡∏ê",
    "‡∏ë", "‡∏í", "‡∏ì", "‡∏î", "‡∏ï", "‡∏ñ", "‡∏ó", "‡∏ò", "‡∏ô", "‡∏ö", "‡∏õ", "‡∏ú", "‡∏ù", "‡∏û", "‡∏ü", "‡∏†",
    "‡∏°", "‡∏¢", "‡∏£", "‡∏•", "‡∏ß", "‡∏®", "‡∏©", "‡∏™", "‡∏´", "‡∏¨", "‡∏≠", "‡∏Æ"
];

// ‡∏™‡∏£‡πâ‡∏≤‡∏á array ‡∏Ç‡∏≠‡∏á objects ‡∏à‡∏≤‡∏Å charIds ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ .map()
const chars = charIds.map(id => ({
    id: id,
    // ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç: ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö '‡∏á' ‡πÅ‡∏•‡∏∞ '‡∏£' ‡∏ó‡∏µ‡πà‡πÄ‡∏Ñ‡∏¢‡∏°‡∏µ img ‡πÄ‡∏õ‡πá‡∏ô .mp3 ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô .png
    // ‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÉ‡∏´‡πâ‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏ß‡πà‡∏≤‡πÑ‡∏ü‡∏•‡πå‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏ô‡∏±‡πâ‡∏ô‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡∏à‡∏£‡∏¥‡∏á
    img: baseUrl + (id === "‡∏á" || id === "‡∏£" ? id + ".png" : id + ".png"), // ‡∏™‡∏°‡∏°‡∏ï‡∏¥‡∏ß‡πà‡∏≤‡∏ó‡∏∏‡∏Å‡∏ï‡∏±‡∏ß‡πÉ‡∏ä‡πâ .png ‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û
    sound: baseUrl + id + ".mp3"
}));

// ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô (‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°)
// console.log(chars[0].img); // ‡∏à‡∏∞‡πÑ‡∏î‡πâ: https://raw.githubusercontent.com/Phairater/thai-sounds/main/‡∏Å.png

    // 4. Utility Functions (‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ï‡∏±‡∏ß‡∏ä‡πà‡∏ß‡∏¢)
    function playAudio(audio) {
        audio.pause();
        audio.currentTime = 0;
        audio.play().catch(() => {}); // ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô error ‡∏ñ‡πâ‡∏≤‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏ö‡∏•‡πá‡∏≠‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á
    }

    function shuffle(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
    }

    function calculateCardSize() {
        const game = document.getElementById("game");
        const padding = 10;
        const cardCount = game.children.length; // ‡∏ô‡∏±‡∏ö‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡∏à‡∏£‡∏¥‡∏á
        const containerWidth = window.innerWidth * 0.95;
        const containerHeight = window.innerHeight * 0.7;

        let bestCols = 1;
        let bestSize = 0;

        // ‡∏•‡∏≠‡∏á‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏´‡∏≤‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå‡πÅ‡∏•‡∏∞‡∏Ç‡∏ô‡∏≤‡∏î‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î
        for (let cols = 1; cols <= cardCount; cols++) {
            const rows = Math.ceil(cardCount / cols);
            const cardWidth = Math.floor((containerWidth - padding * (cols - 1)) / cols);
            const cardHeight = Math.floor((containerHeight - padding * (rows - 1)) / rows);
            const size = Math.min(cardWidth, cardHeight);

            const totalWidth = size * cols + padding * (cols - 1);
            const totalHeight = size * rows + padding * (rows - 1);

            if (totalWidth <= containerWidth && totalHeight <= containerHeight && size > bestSize) {
                bestSize = size;
                bestCols = cols;
            }
        }

        game.style.gridTemplateColumns = `repeat(${bestCols}, ${bestSize}px)`;
        game.style.gridGap = `${padding}px`;

        const cards = game.querySelectorAll('.card');
        cards.forEach(card => {
            card.style.width = `${bestSize}px`;
            card.style.height = `${bestSize}px`;
            card.style.fontSize = `${bestSize * 0.4}px`; // ‡∏õ‡∏£‡∏±‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡∏ü‡∏≠‡∏ô‡∏ï‡πå‡∏ï‡∏≤‡∏°‡∏Ç‡∏ô‡∏≤‡∏î‡∏Å‡∏≤‡∏£‡πå‡∏î
        });
    }

    function showEffect(div) {
        const effect = document.createElement("div");
        effect.className = "effect";
        div.appendChild(effect);
        setTimeout(() => div.removeChild(effect), 800);
    }

    function showPopup(msg, withConfetti = false) {
        document.getElementById("popupText").innerHTML = msg;
        document.getElementById("popup").style.display = "flex";
        if (withConfetti) launchConfetti();
    }

    function closePopup() {
        document.getElementById("popup").style.display = "none";
    }

    function launchConfetti() {
        const canvas = document.getElementById('confetti');
        if (!canvas) { // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏°‡∏µ canvas ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
            console.error("Confetti canvas not found!");
            return;
        }
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        let particles = [];
        for (let i = 0; i < 150; i++) {
            particles.push({
                x: Math.random() * canvas.width,
                y: Math.random() * canvas.height - canvas.height,
                r: Math.random() * 6 + 4,
                c: `hsl(${Math.random()*360}, 100%, 60%)`,
                v: Math.random() * 4 + 2
            });
        }
        let animation = setInterval(() => {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            particles.forEach(p => {
                p.y += p.v;
                ctx.beginPath();
                ctx.arc(p.x, p.y, p.r, 0, Math.PI * 2);
                ctx.fillStyle = p.c;
                ctx.fill();
            });
            // ‡∏´‡∏¢‡∏∏‡∏î animation ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏≠‡∏ô‡∏∏‡∏†‡∏≤‡∏Ñ‡∏´‡∏•‡∏∏‡∏î‡∏à‡∏≤‡∏Å‡∏à‡∏≠‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
            if (particles.every(p => p.y > canvas.height)) {
                clearInterval(animation);
                ctx.clearRect(0, 0, canvas.width, canvas.height); // ‡∏•‡πâ‡∏≤‡∏á confetti ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏à‡∏≠
            }
        }, 30);
    }

    // 5. Game Logic Functions (‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ï‡∏£‡∏£‡∏Å‡∏∞‡πÄ‡∏Å‡∏°)
    function startGame() {
        document.getElementById("startBtn").style.display = "none";
        document.getElementById("restartBtn").style.display = "inline-block";
        totalScore = 0;
        document.getElementById("totalScore").textContent = 0;
        remainingChars = shuffle([...chars]); // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏û‡∏¢‡∏±‡∏ç‡∏ä‡∏ô‡∏∞‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
        startRound();
    }

    function startRound() {
        clearInterval(countdownInterval); // ‡∏´‡∏¢‡∏∏‡∏î‡∏ô‡∏±‡∏ö‡∏ñ‡∏≠‡∏¢‡∏´‡∏•‡∏±‡∏á‡∏£‡∏≠‡∏ö‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß
        timeLeft = 60;
        document.getElementById("timeLeft").textContent = timeLeft;
        countdownInterval = setInterval(() => {
            timeLeft--;
            document.getElementById("timeLeft").textContent = timeLeft;
            if (timeLeft <= 0) {
                clearInterval(countdownInterval);
                playAudio(gameoverSound);
                showPopup("‚è± ‡∏´‡∏°‡∏î‡πÄ‡∏ß‡∏•‡∏≤! ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏î ' ‡πÄ‡∏•‡πà‡∏ô‡∏ï‡πà‡∏≠ ' ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á", false);
            }
        }, 1000);

        const game = document.getElementById("game");
        game.innerHTML = ""; // ‡∏•‡πâ‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πå‡∏î‡πÄ‡∏î‡∏¥‡∏°
        selected = []; // ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡πÄ‡∏•‡∏∑‡∏≠‡∏Å

        const roundCount = Math.min(12, remainingChars.length); // ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏π‡πà‡∏Å‡∏≤‡∏£‡πå‡∏î‡πÉ‡∏ô‡∏£‡∏≠‡∏ö‡∏ô‡∏µ‡πâ
        // ‡πÉ‡∏ä‡πâ splice ‡πÄ‡∏û‡∏∑‡πà‡∏≠ "‡∏ï‡∏±‡∏î" ‡∏û‡∏¢‡∏±‡∏ç‡∏ä‡∏ô‡∏∞‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å remainingChars ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏≠‡∏ö‡∏ô‡∏µ‡πâ
        const roundChars = remainingChars.splice(0, roundCount);

        let cards = [];
        roundChars.forEach(char => {
            cards.push({ type: 'char', id: char.id, sound: char.sound });
            cards.push({ type: 'img', id: char.id, img: char.img, sound: char.sound });
        });

        shuffle(cards); // ‡∏™‡∏∏‡πà‡∏°‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πå‡∏î‡πÉ‡∏ô‡∏£‡∏≠‡∏ö‡∏ô‡∏µ‡πâ

        cards.forEach((card, index) => {
            const div = document.createElement("div");
            div.classList.add("card");
            div.dataset.index = index;
            div.dataset.id = card.id;
            div.dataset.type = card.type;

            if (card.type === 'char') {
                div.textContent = card.id;
            } else {
                const img = document.createElement("img");
                img.src = card.img;
                div.appendChild(img);
            }

            div.onclick = () => selectCard(div, card);
            div.onmouseenter = () => playAudio(hoverSound);
            game.appendChild(div);
        });

        calculateCardSize(); // ‡∏õ‡∏£‡∏±‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏ï‡∏≤‡∏°‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÉ‡∏´‡∏°‡πà
    }

    function restartGame() {
        closePopup();
        clearInterval(countdownInterval);
        totalScore = 0; // ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏£‡∏ß‡∏°‡πÉ‡∏´‡∏°‡πà
        document.getElementById("totalScore").textContent = totalScore;
        document.getElementById("game").innerHTML = ""; // ‡∏•‡πâ‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
        remainingChars = shuffle([...chars]); // ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏û‡∏¢‡∏±‡∏ç‡∏ä‡∏ô‡∏∞‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÅ‡∏•‡∏∞‡∏™‡∏∏‡πà‡∏°‡πÉ‡∏´‡∏°‡πà‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏Å‡∏°‡πÉ‡∏´‡∏°‡πà
        startRound();
    }

    function selectCard(div, card) {
        if (selected.length >= 2 || div.classList.contains("selected")) return;

        div.classList.add("selected");
        playAudio(clickSound);
        selected.push({ div, id: card.id, sound: card.sound });

        if (selected.length === 2) {
            const [first, second] = selected;
            if (first.id === second.id) { // ‡∏à‡∏±‡∏ö‡∏Ñ‡∏π‡πà‡∏ñ‡∏π‡∏Å
                new Audio(first.sound).play().catch(() => {});
                playAudio(coinSound);
                showEffect(first.div);
                showEffect(second.div);
                totalScore += 10;
                document.getElementById("totalScore").textContent = totalScore;

                setTimeout(() => {
                    // ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏à‡∏≤‡∏Å style.visibility = "hidden" ‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å DOM
                    first.div.remove(); // ‡∏•‡∏ö‡∏Å‡∏≤‡∏£‡πå‡∏î‡πÉ‡∏ö‡πÅ‡∏£‡∏Å‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å DOM
                    second.div.remove(); // ‡∏•‡∏ö‡∏Å‡∏≤‡∏£‡πå‡∏î‡πÉ‡∏ö‡∏ó‡∏µ‡πà‡∏™‡∏≠‡∏á‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å DOM

                    selected = [];

                    // ‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏≤‡∏Å‡∏•‡∏ö‡∏Å‡∏≤‡∏£‡πå‡∏î‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß, ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡πå‡∏î‡πÉ‡∏ô game div ‡∏à‡∏∞‡∏•‡∏î‡∏•‡∏á
                    // ‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏≤‡∏à‡∏à‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏Å calculateCardSize() ‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ grid ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÉ‡∏´‡∏°‡πà‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏Å‡∏≤‡∏£‡πå‡∏î
                    calculateCardSize(); // ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç: ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏£‡∏±‡∏ö layout

                    // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏Å‡∏≤‡∏£‡πå‡∏î‡πÉ‡∏ô‡∏£‡∏≠‡∏ö‡∏ô‡∏µ‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏ñ‡∏π‡∏Å‡∏à‡∏±‡∏ö‡∏Ñ‡∏π‡πà‡∏Ñ‡∏£‡∏ö‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á
                    // ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏ä‡πá‡∏Ñ‡∏à‡∏≤‡∏Å children ‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏≠‡∏¢‡∏π‡πà
                    if (document.getElementById("game").children.length === 0) {
                        setTimeout(() => {
                            if (remainingChars.length > 0) {
                                startRound(); // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏£‡∏≠‡∏ö‡πÉ‡∏´‡∏°‡πà ‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡∏°‡∏µ‡∏û‡∏¢‡∏±‡∏ç‡∏ä‡∏ô‡∏∞‡πÄ‡∏´‡∏•‡∏∑‡∏≠
                            } else {
                                // ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏û‡∏¢‡∏±‡∏ç‡∏ä‡∏ô‡∏∞‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡πÅ‡∏•‡πâ‡∏ß ‡πÄ‡∏Å‡∏°‡∏à‡∏ö‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå
                                clearInterval(countdownInterval); // ‡∏´‡∏¢‡∏∏‡∏î‡∏ô‡∏±‡∏ö‡∏ñ‡∏≠‡∏¢‡∏´‡∏•‡∏±‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏Å‡∏°‡∏à‡∏ö
                                showPopup(`üéä ‡πÄ‡∏Å‡∏°‡∏à‡∏ö‡πÅ‡∏•‡πâ‡∏ß! ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏∞‡∏™‡∏°‡πÑ‡∏î‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ${totalScore} ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô!`, true);
                                playAudio(winSound); // ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏ä‡∏ô‡∏∞
                            }
                        }, 500);
                    }
                }, 600);
            } else { // ‡∏à‡∏±‡∏ö‡∏Ñ‡∏π‡πà‡∏ú‡∏¥‡∏î
                playAudio(wrongSound);
                totalScore = Math.max(0, totalScore - 5); // ‡∏´‡∏±‡∏Å‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô ‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤ 0
                document.getElementById("totalScore").textContent = totalScore;
                setTimeout(() => {
                    first.div.classList.remove("selected");
                    second.div.classList.remove("selected");
                    selected = [];
                }, 800);
            }
        }
    }

    // 6. Initialization (‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô)
    window.addEventListener("resize", calculateCardSize); // ‡∏õ‡∏£‡∏±‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡∏Å‡∏≤‡∏£‡πå‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô
    window.onload = () => {
        // ‡∏≠‡∏≤‡∏à‡πÄ‡∏£‡∏µ‡∏¢‡∏Å calculateCardSize() ‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà ‡∏´‡∏≤‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î layout ‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà‡πÅ‡∏£‡∏Å
        // ‡πÅ‡∏ï‡πà‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏≤‡∏Å startRound() ‡∏à‡∏∞‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß ‡∏≠‡∏≤‡∏à‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ã‡πâ‡∏≥
    };

    // ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô calculateOptimalGrid ‡∏ñ‡∏π‡∏Å‡∏ã‡πâ‡∏≥‡∏ã‡πâ‡∏≠‡∏ô‡πÅ‡∏•‡∏∞‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ ‡∏Ñ‡∏ß‡∏£‡∏•‡∏ö‡∏≠‡∏≠‡∏Å

    </script>
</body>
</html>
